(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{1:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var a={contacts:"/contacts",login:"/login",register:"/register",home:"/"};t.a={SEARCH:"@CONTACTS/SET_SEARCH",ACR:"@CONTACTS/ADD_REQUEST",ACF:"@CONTACTS/ADD_FAIL",ACS:"@CONTACTS/ADD_SUCCESS",FCR:"@CONTACTS/FETCH_REQUEST",FCS:"@CONTACTS/FETCH_SUCCESS",FCF:"@CONTACTS/FETCH_FAIL",DCR:"@CONTACTS/DELETE_CONTACT_REQUEST",DCS:"@CONTACTS/DELETE_CONTACT_SUCCESS",DCF:"@CONTACTS/DELETE_CONTACT_FAIL"}},100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var a,r,c,o,u=n(0),l=n.n(u),s=n(21),i=n.n(s),m=n(6),b=n(55),p=n(24),f=n(25),d=n(28),h=n(27),E=n(7),g=n(11),O=n(59),C=n(56),j=n(57),v=n(58),S=n(1),k=n(26),A=function(e){return e.auth.user.email},y=(n(95),Object(m.b)((function(e){return{email:A(e),avatar:"https://cdn1.vectorstock.com/i/1000x1000/31/95/user-sign-icon-person-symbol-human-avatar-vector-12693195.jpg"}}),{onLogout:k.a.logOut})((function(e){var t=e.avatar,n=e.email,a=e.onLogout;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"avatar-wrapper"},l.a.createElement("div",{className:"account-avatar"},l.a.createElement("img",{className:"avatar avatar--hover",src:t,alt:"User avatar",width:"44",height:"44"})),l.a.createElement("span",{className:"account-title"},n),l.a.createElement("button",{className:"logout-btn",type:"button",onClick:a},"Logout")),l.a.createElement("div",null,l.a.createElement(g.b,{to:S.b.contacts},"Contacts")))}))),N=(n(96),Object(m.b)((function(e){return{getToken:e.auth.token}}))((function(e){var t=e.getToken;return l.a.createElement("header",{className:"header"},t?l.a.createElement(y,null):l.a.createElement("ul",null,l.a.createElement("li",{className:"nav-menu"},l.a.createElement(g.b,{to:S.b.login},"Login")),l.a.createElement("li",{className:"nav-menu"},l.a.createElement(g.b,{to:S.b.register},"Register")),l.a.createElement("li",{className:"nav-menu"},l.a.createElement(g.b,{to:S.b.contacts},"Contacts")),l.a.createElement("li",{className:"nav-menu"},l.a.createElement(g.b,{to:S.b.home},"Home"))))}))),T=n(37),F=Object(m.b)((function(e){return{getToken:e.auth.token}}))((function(e){var t=e.getToken,n=e.Component,a=Object(T.a)(e,["getToken","Component"]);return l.a.createElement(E.b,Object.assign({},a,{render:function(e){return t&&a.restricted?l.a.createElement(E.a,{to:S.b.contacts}):l.a.createElement(n,e)}}))})),w=Object(m.b)((function(e){return{getToken:e.auth.token}}))((function(e){var t=e.getToken,n=e.Component,a=Object(T.a)(e,["getToken","Component"]);return l.a.createElement(E.b,Object.assign({},a,{render:function(e){return t?l.a.createElement(n,e):l.a.createElement(E.a,{to:S.b.login})}}))})),D=(S.b.home,Object(u.lazy)((function(){return Promise.resolve().then(n.bind(null,58))})),S.b.register,Object(u.lazy)((function(){return Promise.resolve().then(n.bind(null,57))})),S.b.login,Object(u.lazy)((function(){return Promise.resolve().then(n.bind(null,56))})),S.b.contacts,Object(u.lazy)((function(){return Promise.resolve().then(n.bind(null,59))})),n(22)),R=(n(97),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetch()}},{key:"render",value:function(){return l.a.createElement(g.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(N,null),l.a.createElement("hr",null),l.a.createElement(E.d,null,l.a.createElement(F,{path:"/",exact:!0,component:v.default,restricted:!1}),l.a.createElement(F,{path:S.b.login,exact:!0,component:C.default,restricted:!0}),l.a.createElement(F,{path:S.b.register,component:j.default,restricted:!0}),l.a.createElement(w,{Component:O.default,path:S.b.contacts}),l.a.createElement(E.a,{to:"/"}))))}}]),n}(u.Component)),x={onFetch:D.a.getContacts},U=Object(m.b)(null,x)(R),L=n(2),q=n(9),_=n(35),H=n.n(_),z=n(20),P=n(4),I=n(5),G={name:null,email:null},B=Object(L.c)(G,(a={},Object(P.a)(a,I.a.registerSuccess,(function(e,t){return t.payload.user})),Object(P.a)(a,I.a.loginSuccess,(function(e,t){return t.payload.user})),Object(P.a)(a,I.a.logoutSuccess,(function(){return G})),Object(P.a)(a,I.a.getCurrentUserSuccess,(function(e,t){return t.payload})),a)),Q=Object(L.c)(null,(r={},Object(P.a)(r,I.a.registerSuccess,(function(e,t){return t.payload.token})),Object(P.a)(r,I.a.loginSuccess,(function(e,t){return t.payload.token})),Object(P.a)(r,I.a.logoutSuccess,(function(){return null})),r)),J=Object(L.c)(null,(c={},Object(P.a)(c,I.a.registerError,(function(e,t){return t.payload})),Object(P.a)(c,I.a.loginError,(function(e,t){return t.payload})),Object(P.a)(c,I.a.logoutError,(function(e,t){return t.payload})),Object(P.a)(c,I.a.getCurrentUserError,(function(e,t){return t.payload})),c)),M=(H.a,Object(q.c)({user:B,token:Q,error:J})),W=(n(33),n(60)),Y=n(12),K={items:Object(L.c)([],(o={},Object(P.a)(o,Y.a.onFetchSuccess,(function(e,t){return t.payload})),Object(P.a)(o,Y.a.onAddSuccess,(function(e,t){var n=t.payload;return[].concat(Object(W.a)(e),[n])})),Object(P.a)(o,Y.a.onDeleteSuccess,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),o)),filter:Object(L.c)("",Object(P.a)({},S.a.SEARCH,(function(e,t){return t.payload})))},V=Object(q.c)({items:K.items,filter:K.filter}),X={key:"token",storage:H.a,whitelist:["token"]},Z=Object(L.a)({reducer:{contacts:V,auth:Object(z.g)(X,M)},middleware:Object(L.d)({serializableCheck:{ignoredActions:[z.a,z.f,z.b,z.c,z.d,z.e]}})}),$=Object(z.h)(Z);n(100);i.a.render(l.a.createElement(m.a,{store:Z},l.a.createElement(b.a,{loading:null,persistor:$},l.a.createElement(U,null))),document.getElementById("root"))},12:function(e,t,n){"use strict";var a=n(1),r=n(2),c=Object(r.b)(a.a.ACR),o=Object(r.b)(a.a.ACS),u=Object(r.b)(a.a.ACF),l=Object(r.b)(a.a.FCR),s=Object(r.b)(a.a.FCS),i=Object(r.b)(a.a.FCF),m=Object(r.b)(a.a.DCR),b=Object(r.b)(a.a.DCS),p=Object(r.b)(a.a.DCF),f=Object(r.b)(a.a.SEARCH,(function(e){return{payload:e.target.value}})),d=Object(r.b)(a.a.DELETE,(function(e){return{payload:e.target.id}}));t.a={onDelete:d,onSearch:f,onAddRequest:c,onAddSuccess:o,onAddFail:u,onFetch:l,onFetchSuccess:s,onFetchError:i,onDeleteContact:m,onDeleteSuccess:b,onDeleteFail:p}},22:function(e,t,n){"use strict";var a=n(18),r=n(12),c=n(17),o=n.n(c);t.a={addContact:function(e){return function(t){t(r.a.onAddRequest()),o.a.post("http://localhost:2000/contacts",Object(a.a)({},e)).then((function(e){return t(r.a.onAddSuccess(e.data))})).catch((function(e){return t(r.a.onAddFail(e))}))}},getContacts:function(){return function(e){e(r.a.onFetch()),o.a.get("http://localhost:2000/contacts").then((function(t){return e(r.a.onFetchSuccess(t.data))})).catch((function(t){return e(r.a.onFetchError(t))}))}},deleteContact:function(e){return function(t){t(r.a.onDeleteContact()),o.a.delete("http://localhost:2000/contacts/".concat(e)).then((function(){return t(r.a.onDeleteSuccess(e))})).catch((function(e){return t(r.a.onDeleteFail(e))}))}}}},26:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return b}));var a=n(23),r=n.n(a),c=n(38),o=n(17),u=n.n(o),l=n(5),s=function(e){u.a.defaults.headers.common.Authorization="Bearer ".concat(e)},i=function(){u.a.defaults.headers.common.Authorization=""},m=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("https://goit-phonebook-api.herokuapp.com/users/signup",e);case 3:a=t.sent,s(a.data.token),n(l.a.registerSuccess(a.data)),console.log(a.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(l.a.registerError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(l.a.loginRequest()),t.prev=1,t.next=4,u.a.post("https://goit-phonebook-api.herokuapp.com/users/login",e);case 4:a=t.sent,s(a.data.token),n(l.a.loginSuccess(a.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(l.a.loginError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()};t.a={registerOperation:m,loginOperation:b,logOut:function(){return function(e){e(l.a.logoutRequest()),u.a.post("https://goit-phonebook-api.herokuapp.com/users/logout").then((function(){i(),e(l.a.logoutSuccess())})).catch((function(t){return e(l.a.logoutError(t))}))}},getCurrentUser:function(){return function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),c=a.auth.token){e.next=3;break}return e.abrupt("return");case 3:return s(c),t(l.a.getCurrentUserRequest()),e.prev=5,e.next=8,u.a.get("/users/current");case 8:o=e.sent,t(l.a.getCurrentUserSeccess(o.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(l.a.getCurrentUserError(e.t0));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}}},5:function(e,t,n){"use strict";var a=n(2),r=Object(a.b)("@auth/registerRequest"),c=Object(a.b)("@auth/registerSuccess"),o=Object(a.b)("@auth/registerError"),u=Object(a.b)("@auth/loginRequest"),l=Object(a.b)("@auth/loginSuccess"),s=Object(a.b)("@auth/loginError"),i=Object(a.b)("@auth/logoutRequest"),m=Object(a.b)("@auth/logoutSuccess"),b=Object(a.b)("@auth/logoutError"),p=Object(a.b)("@auth/getCurrentUserRequest"),f=Object(a.b)("@auth/getCurrentUserSuccess"),d=Object(a.b)("@auth/getCurrentUserError");t.a={registerRequest:r,loginRequest:u,logoutRequest:i,getCurrentUserRequest:p,registerError:o,loginError:s,logoutError:b,getCurrentUserError:d,registerSuccess:c,loginSuccess:l,logoutSuccess:m,getCurrentUserSuccess:f}},53:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(18),c=n(36),o=n(0),u=n.n(o),l=n(11),s=n(1),i=n(6),m=(n(91),n(26)),b={email:"",password:""};t.default=function(){var e=Object(o.useState)(b),t=Object(c.a)(e,2),n=t[0],p=t[1],f=Object(i.c)(),d=function(e){var t=e.target,n=t.name,c=t.value;p((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(a.a)({},n,c))}))};return u.a.createElement("div",null,u.a.createElement("h1",null,"Login"),u.a.createElement("form",{className:"login-form",onSubmit:function(e){e.preventDefault(),f(Object(m.b)(n)),console.log(n)}},u.a.createElement("input",{type:"email",placeholder:"email",name:"email",onChange:d,value:n.email}),u.a.createElement("input",{type:"password",placeholder:"password",name:"password",onChange:d,value:n.password}),u.a.createElement("button",null,"Sign in"),u.a.createElement("p",null,"You don`t have any account? Please",u.a.createElement(l.b,{to:s.b.register},"\xa0register"))))}},57:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(18),c=n(36),o=n(0),u=n.n(o),l=n(26),s=n(6),i=n(11),m=n(1),b=(n(94),{name:"",email:"",password:""});t.default=function(){var e=Object(o.useState)(b),t=Object(c.a)(e,2),n=t[0],p=t[1],f=Object(s.c)(),d=function(e){var t=e.target,n=t.name,c=t.value;p((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(a.a)({},n,c))}))};return u.a.createElement("div",null,u.a.createElement("h1",null,"Registration"),u.a.createElement("form",{className:"register-form",onSubmit:function(e){e.preventDefault(),f(Object(l.c)(n))}},u.a.createElement("input",{type:"text",placeholder:"name",name:"name",onChange:d,value:n.name}),u.a.createElement("input",{type:"email",placeholder:"email",name:"email",onChange:d,value:n.email}),u.a.createElement("input",{type:"password",placeholder:"password",name:"password",onChange:d,value:n.password}),u.a.createElement("button",null,"Sign up"),u.a.createElement("p",null,"If you already have an account please",u.a.createElement(i.b,{to:m.b.login},"log in"))))}},58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a);t.default=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"Home-title"},"Welcome to phonebook application!"))}},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),o=n(25),u=n(28),l=n(27),s=n(103),i=n(102),m=n(18),b=n(6),p=n(16),f=function(e){return e.contacts.items},d=function(e){return e.contacts.filter},h=Object(p.a)([f,function(e,t){return t}],(function(e,t){return e.find((function(e){return e.id===t}))})),E=Object(p.a)([f,d],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),g=n(22),O=Object(b.b)((function(e,t){var n=h(e,t.id);return Object(m.a)({},n)}),(function(e,t){return{onDelete:function(){return e(g.a.deleteContact(t.id))}}}))((function(e){var t=e.name,n=e.number,a=e.onDelete;return r.a.createElement("div",{className:"contact"},r.a.createElement("h2",{className:"contactName"},t),r.a.createElement("p",null,n),r.a.createElement("button",{className:"delete",onClick:a},"Delete"))})),C=n(4),j=(n(89),function(e){var t=e.name,n=e.clearAlert;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("h2",null,"Contact of ",t," is already in the list."),r.a.createElement("p",null,"Please enter the number which is not in the list."),r.a.createElement("button",{onClick:n},"Close"))}),v=(n(53),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",number:"",alertOn:!1},e.inputHandler=function(t){var n=t.target,a=n.value,r=n.name;e.setState(Object(C.a)({},r,a))},e.postNum=function(){e.isNameExist(e.state.name)?(e.props.onAdd(e.state),e.setState({name:"",number:""})):e.setState({alertOn:!0})},e.clearAlert=function(){e.setState({alertOn:!1})},e}return Object(o.a)(n,[{key:"isNameExist",value:function(e){return!this.props.contacts.some((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"phoneBookApp"},r.a.createElement(i.a,{in:!0,appear:!0,timeout:500,classNames:"logo-slideIn",unmountOnExit:!0},r.a.createElement("h1",{className:"logo"},r.a.createElement("span",{role:"img","aria-label":"cool"},"\ud83d\ude0e"),"Phonebook",r.a.createElement("span",{role:"img","aria-label":"cool"},"\ud83d\ude0e"))),r.a.createElement("div",{className:"addContactForm"},r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.inputHandler,placeholder:"Name"}),r.a.createElement("input",{type:"text",name:"number",value:this.state.number,onChange:this.inputHandler,placeholder:"Number"}),r.a.createElement("button",{className:"addGuest",onClick:this.postNum},"Add Guest"),r.a.createElement(i.a,{in:this.state.alertOn,timeout:300,classNames:"wrapper",unmountOnExit:!0},r.a.createElement(j,{name:this.state.name,clearAlert:this.clearAlert})))))}}]),n}(a.Component)),S={onAdd:g.a.addContact},k=Object(b.b)((function(e){return{contacts:e.contacts.items}}),S)(v),A=n(12),y={onAdd:g.a.addContact,onSearch:A.a.onSearch},N=Object(b.b)((function(e){return{filter:d(e),contacts:E(e)}}),y)((function(e){var t=e.onAdd,n=e.search,a=e.onSearch,c=e.contacts;return r.a.createElement("div",{className:"phoneBookList"},r.a.createElement(k,{contacts:c,onAdd:t}),r.a.createElement("div",{className:"Guest"},r.a.createElement("input",{type:"text",value:n,onChange:a,className:"filter",placeholder:"Find contact by name"}),r.a.createElement(s.a,{className:"Guests"},c.map((function(e){return r.a.createElement(i.a,{key:e.id,timeout:250,classNames:"Guests-item-fade",unmountOnExit:!0},r.a.createElement(O,{id:e.id}))})))))})),T=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return r.a.createElement(N,null)}}]),n}(a.Component);n(90),t.default=function(){return r.a.createElement(T,null)}},63:function(e,t,n){e.exports=n(101)},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){}},[[63,1,2]]]);
//# sourceMappingURL=main.a4b8e180.chunk.js.map